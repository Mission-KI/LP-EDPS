{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://www.beebucket.de/edp/.schema.json",
    "title": "Enhanced Dataset Profile Schema",
    "description": "",
    "type": "object",
    "properties": {
        "dataset_id": {
            "description": "The unique identifier of a dataset",
            "type": "integer"
        },
        "dataset_name": {
            "description": "Name of the dataset",
            "type": "string"
        },
        "volume": {
            "description": "Volume of the dataset",
            "$ref": "#/definitions/volume"
        },
        "transfer": {
            "description": "Is the dataset frequently updated, or static",
            "$ref": "#/definitions/transfer"
        },
        "frequency": {
            "description": "If transfer is frequent, this parameter gives the update frequency",
            "type": "integer"
        },
        "growth_rate": {
            "description": "If transfer is frequent, this parameter gives the growth rate of the dataset per day",
            "$ref": "#/definitions/growth_rate"
        },
        "immutability": {
            "description": "Is the dataset immutable",
            "$ref": "#/definitions/immutability"
        },
        "structure": {
            "description": "Type of the dataset",
            "$ref": "#/definitions/structure"
        },
        "compression": {
            "description": "Compression type of the dataset. None if the dataset is uncompressed",
            "$ref": "#/definitions/compression"
        },
        "dataspace": {
            "description": "Dataspace parameters",
            "$ref": "#/schemas/dataspace_definition"
        },
        "source_dataspace_uri": {
            "description": "Name of the dataspace this dataset can be downloaded",
            "type": "string"
        },
        "definitions": {
            "volume": {
                "enum": [
                    "MB",
                    "GB",
                    "TB",
                    "GB"
                ]
            },
            "transfer": {
                "enum": [
                    "static",
                    "frequent"
                ]
            },
            "growth_rate": {
                "enum": [
                    "MB",
                    "GB",
                    "TB",
                    "GB"
                ]
            },
            "structure": {
                "enum": [
                    "structured (csv)",
                    "semi-structured (xml/json)",
                    "image",
                    "video",
                    "audio",
                    "documents"
                ]
            },
            "immutability": {
                "enum": [
                    "immutable",
                    "not-immutable"
                ]
            },
            "compression": {
                "enum": [
                    "None",
                    "gzip",
                    "zip",
                    "tar.gz",
                    "7zip"
                ]
            },
            "numeric_column_type": {
                "enum": [
                    "int",
                    "float"
                ]
            }
        },
        "$defs": {
            "dataspace_definition": {
                "$id": "https://www.beebucket.de/edp/.schema.json",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Name of the dataspace this dataset can be downloaded",
                        "type": "string"
                    },
                    "uri": {
                        "description": "Name of the dataspace this dataset can be downloaded",
                        "type": "string"
                    },
                    "images": {
                        "type": "array",
                        "items": {
                            "$ref": "#/definitions/image_definition"
                        }
                    }
                },
                "required": [
                    "name",
                    "uri"
                ]
            },
            "image_definition": {
                "$id": "https://www.beebucket.de/edp/.schema.json",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "type": "object",
                "properties": {
                    "path": {
                        "description": "Path to the image file",
                        "type": "string"
                    },
                    "method": {
                        "description": "Statistical method",
                        "type": "string"
                    }
                },
                "required": [
                    "name"
                ]
            },
            "timeseries_column": {
                "$id": "https://www.beebucket.de/edp/.schema.json",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Name of the timeseries_column",
                        "type": "string"
                    },
                    "granularity": {
                        "description": "Name of the dataspace this dataset can be downloaded",
                        "type": "string"
                    }
                },
                "required": [
                    "name"
                ]
            },
            "numeric_column": {
                "$id": "https://www.beebucket.de/edp/.schema.json",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Name of the column",
                        "type": "string"
                    },
                    "min": {
                        "description": "Minimum value of this column",
                        "type": "number"
                    },
                    "max": {
                        "description": "Maximum value of this column",
                        "type": "number"
                    },
                    "stddev": {
                        "description": "Standard Deviation of this column",
                        "type": "number"
                    },
                    "data_type": {
                        "description": "Type of this column",
                        "$ref": "#/schemas/numeric_column_type"
                    }
                },
                "required": [
                    "name"
                ]
            },
            "text_column": {
                "$id": "https://www.beebucket.de/edp/.schema.json",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Name of the timeseries_column",
                        "type": "string"
                    },
                    "average": {
                        "description": "Name of the dataspace this dataset can be downloaded",
                        "type": "number"
                    }
                },
                "required": [
                    "name"
                ]
            }
        }
    }
}
